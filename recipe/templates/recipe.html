{% extends 'base.html'%}

{% block title %} Recipe {% endblock %}

{% block body %}
<div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 mt-5 shadow-lg">
        <h2 class="text-center mb-4">Add Recipe</h2>
        <form method="post" action="" enctype="multipart/form-data">
            {% csrf_token%}
          <div class="mb-3">
            <label for="name" class="form-label">Recipe Name</label>
            <input type="text" class="form-control" id="name" name="recipe_name" placeholder="Enter your Recipe name">
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Recipe Description</label>
            <textarea name="recipe_desc" id="" cols="30" rows="10" class="form-control"></textarea>
          </div>
          <div class="mb-3">
            <label for="name" class="form-label">Choose a file</label>
            <input type="file" class="form-control" id="image" name="recipe_image" >
          </div>
         
          <div class="text-center p-3">
            <button type="submit" class="btn btn-primary">Add Recipe</button>
          </div>
        </form>
      </div>
      <br><hr>
      <div>
        <form >        
            <div class="col-md-6 mt-5 shadow-lg">
                <label for="name" class="form-label">Search A Recipe</label>
                <input type="text" class="form-control" id="image" name="search" placeholder="Search here" ><br>
                <button type="submit" class="btn btn-primary">Search</button>
            </div>
        </form>

      </div>
      <div>
        <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Recipe Name</th>
                <th scope="col">Recipe Description</th>
                <th scope="col">Recipe Image</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
                {% for i in recipes %}
              <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td>{{i.recipe_name}}</td>
                <td>{{i.recipe_desc}}</td>
                {% if i.recipe_image != NULL %}
                    
                <td><img src="/media/{{i.recipe_image}}" alt="" style="height: 100px;"></td>
                {% endif %}
                <td>
                    <a href="/delete-recipe/{{i.id}}" class="btn btn-danger m-2">Delete</a>
                    <a href="/update-recipe/{{i.id}}" class="btn btn-success">Update</a>
                </td>
              </tr>
                {% endfor %}
            </tbody>
          </table>
      </div>
    </div>
  </div>

{% endblock %}